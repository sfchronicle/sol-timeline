<!doctype html>
<html>
  <head>
    <title>SOL Timeline</title>
    <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="__sync_contentCategory" content="meterA">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
    <link rel="stylesheet" type="text/css" href="style.css?4">
    <%= !json.project.embedded ? t.include("partials/_paywall.html") : t.include("partials/_embedframe.html") %>
    <script src="http://projects.sfchronicle.com/shared/js/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.1/js/swiper.min.js"></script>

  </head>

  <%= !json.project.embedded ? "<body>" : "<body is='responsive-body'>" %>


    <div class="flex-container swiper-container">

    <div class="swiper-wrapper">
        
        <div class="milestone intro swiper-slide">
          <div class="intro-img"><img class="daisy" src="./assets/photos/white_daisy.jpg"></div>
          <h1>There’s something’s happening here…</h1>
          <p class="deck">The Summer of Love wasn’t just one moment in 1967, it was a culmination of events that resulted in a massive counterculture movement rooted in San Francisco. It birthed hippies and flower children, rocked the music world and more. Here are some moments from the era that defined a generation.</p>
          <div class="arrow">
            <span>Swipe right</span><br>
            <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
          </div>
        </div>




        <% json.timelineData.forEach(function(t) { %>



        <% if (t.class == 'text') { %>
          <div class="milestone text swiper-slide">
            <h2><%= t.headline %></h2>
              <p class="date"><%= t.day_month %>, <%= t.year %></p>  
              <p class="deck"><%= t.text %></p>        
          </div>

        <% } %>

          <% if (t.class == 'bg') { %>
          <div class="milestone bg swiper-slide" style="background-image: url(<%= t.img %>); background-size:<%= t.img_size %>; background-position: <%= t.img_position %>">
            <p><span class="win"><%= t.headline %></span><%= t.date %>: <%= t.display_text %></p>
          </div>

          <% } %>

          <% if (t.class == 'image') { %>
          <div class="milestone swiper-slide">

            <div class="desktop img-text">
            <div class="half-img">
              <img src="http://ww2.hdnux.com/photos/57/43/16/<%= t.wcm_image_id %>/3/1000x0.jpg">
              <div class="credit"><%= t.photographer %></div>
            </div>
            <div class="text-wrapper">
              <h2><%= t.headline %></h2>
              <p class="date"><%= t.day_month %>, <%= t.year %></p>  
              <p class="deck"><%= t.text %></p>  
            </div>
            </div>

            <div class="mobile-bg" style="background-image: url(http://ww2.hdnux.com/photos/57/43/16/<%= t.wcm_image_id %>/3/1000x0.jpg);">
              <div class="half-img mobile"></div>
              <div class="text-wrapper mobile">
                <h2><%= t.headline %></h2>
                <p class="date mobile"><%= t.day_month %>, <%= t.year %></p> 
                <span class="extra-btn"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                <div class="extra"> 
                  <p class="deck mobile"><%= t.text %></p>  
                </div>
              </div>
            </div>
          </div>

          <% } %>

         <% }); %>

         <div class="milestone outro swiper-slide">

          <div class="credits">
            <div class="group">
            <p>Credits</p>
              <div class="entry">Reporter<br>Mariecar Mendoza<br>
                <a href="mailto:mmendoza@sfchronicle.com">mmendoza@sfchronicle.com</a>
              </div>
              <div class="entry">Interactive Producer<br>Lucio Villa<br>
                <a href="mailto:lvilla@sfchronicle.com">lvilla@sfchronicle.com</a>
              </div>
            </div>
          </div>
        </div>


         </div>
         <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>

    </div>


    <script src="app.js" async></script>
    <script>
      var mySwiper = new Swiper ('.swiper-container', {
        direction: 'horizontal',
        loop: false,
        grabCursor: true,
        pagination: '.swiper-pagination',
        keyboardControl: true,
        mousewheelControl: false,
        nextButton: '.swiper-button-next',
        prevButton: '.swiper-button-prev',
        pagination: '.swiper-pagination',
        paginationType: 'progress'
      });

      $( ".extra-btn" ).click(function() {
        $( ".extra" ).toggle( function() {
          // Animation complete.
        });
      }); 
    </script>
  </body>
</html>
